{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../notes.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./key/key.component\";\nfunction PianoComponent_app_key_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-key\", 2);\n  }\n  if (rf & 2) {\n    const key_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"key\", key_r1);\n  }\n}\nexport class PianoComponent {\n  constructor(notesService) {\n    this.notesService = notesService;\n    this.keys = Array();\n  }\n  ngOnInit() {\n    if (this.highlightedNotes && this.highlightedNotes.length > 0) {\n      let notes = this.notesService.getNotes();\n      let highlightedNoteIndex = 0;\n      while (highlightedNoteIndex < this.highlightedNotes.length) {\n        let highlightedNote = this.highlightedNotes[highlightedNoteIndex];\n        notes.forEach(note => {\n          if (highlightedNote && note.index === highlightedNote.index) {\n            this.keys.push({\n              note: note,\n              isHighlighted: true\n            });\n            highlightedNote = this.highlightedNotes[++highlightedNoteIndex];\n          } else {\n            this.keys.push({\n              note: note,\n              isHighlighted: false\n            });\n          }\n        });\n      }\n      if (!this.highlightedNotes[0].isGroupedWithC) {\n        notes.filter(note => note.isGroupedWithC).forEach(() => {\n          this.keys.shift();\n        });\n      }\n      if (this.highlightedNotes[this.highlightedNotes.length - 1].isGroupedWithC) {\n        notes.filter(note => !note.isGroupedWithC).forEach(() => {\n          this.keys.pop();\n        });\n      }\n    }\n  }\n  static #_ = this.ɵfac = function PianoComponent_Factory(t) {\n    return new (t || PianoComponent)(i0.ɵɵdirectiveInject(i1.NotesService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PianoComponent,\n    selectors: [[\"app-piano\"]],\n    inputs: {\n      highlightedNotes: \"highlightedNotes\"\n    },\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"center\", \"piano\"], [3, \"key\", 4, \"ngFor\", \"ngForOf\"], [3, \"key\"]],\n    template: function PianoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, PianoComponent_app_key_1_Template, 1, 1, \"app-key\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.keys);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.KeyComponent],\n    styles: [\".center[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.root[_ngcontent-%COMP%] {\\r\\n  max-width: 1024px;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n.github[_ngcontent-%COMP%] {\\r\\n  margin-left: 0.5rem;\\r\\n  color: var(--accent-light-color);\\r\\n  text-shadow: 0 0 0.25rem var(--shadow-color);\\r\\n  margin-bottom: 0.5rem;\\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%] {    \\r\\n  color: var(--highlight-color);\\r\\n  text-shadow: 0 0 0.25rem var(--shadow-color);\\r\\n  margin-bottom: 0.25rem;\\r\\n  font-size: 2rem;\\r\\n}\\r\\n\\r\\nfooter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  margin-left: 0.5rem;\\r\\n  color: var(--accent-light-color);\\r\\n}\\r\\n\\r\\nfooter[_ngcontent-%COMP%] {\\r\\n  font-size: 0.75rem;\\r\\n  height: -moz-fit-content;\\r\\n  height: fit-content;\\r\\n  margin-top: 1.5rem;\\r\\n  text-shadow: 0 0 0.25rem var(--shadow-color);\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.icon[_ngcontent-%COMP%] {\\r\\n  display: inline-flex;\\r\\n  align-self: center;\\r\\n}\\r\\n\\r\\n.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\\r\\n  height: 2rem;\\r\\n  width: 2rem;\\r\\n  margin-right: 1rem; \\r\\n  top: 1rem;\\r\\n  position: relative;\\r\\n  fill: var(--foreground-color); \\r\\n  filter: drop-shadow(0 0 0.25rem var(--shadow-color));\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsZ0NBQWdDO0VBQ2hDLDRDQUE0QztFQUM1QyxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSw2QkFBNkI7RUFDN0IsNENBQTRDO0VBQzVDLHNCQUFzQjtFQUN0QixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQix3QkFBbUI7RUFBbkIsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQiw0Q0FBNEM7RUFDNUMsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsNkJBQTZCO0VBRTdCLG9EQUFvRDtBQUN0RCIsInNvdXJjZXNDb250ZW50IjpbIi5jZW50ZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5yb290IHtcclxuICBtYXgtd2lkdGg6IDEwMjRweDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbi5naXRodWIge1xyXG4gIG1hcmdpbi1sZWZ0OiAwLjVyZW07XHJcbiAgY29sb3I6IHZhcigtLWFjY2VudC1saWdodC1jb2xvcik7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwLjI1cmVtIHZhcigtLXNoYWRvdy1jb2xvcik7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG59XHJcblxyXG5oMSB7ICAgIFxyXG4gIGNvbG9yOiB2YXIoLS1oaWdobGlnaHQtY29sb3IpO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMC4yNXJlbSB2YXIoLS1zaGFkb3ctY29sb3IpO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuMjVyZW07XHJcbiAgZm9udC1zaXplOiAycmVtO1xyXG59XHJcblxyXG5mb290ZXIgYSB7XHJcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcclxuICBjb2xvcjogdmFyKC0tYWNjZW50LWxpZ2h0LWNvbG9yKTtcclxufVxyXG5cclxuZm9vdGVyIHtcclxuICBmb250LXNpemU6IDAuNzVyZW07XHJcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuICBtYXJnaW4tdG9wOiAxLjVyZW07XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwLjI1cmVtIHZhcigtLXNoYWRvdy1jb2xvcik7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLmljb24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcclxufVxyXG5cclxuLmljb24gc3ZnIHtcclxuICBoZWlnaHQ6IDJyZW07XHJcbiAgd2lkdGg6IDJyZW07XHJcbiAgbWFyZ2luLXJpZ2h0OiAxcmVtOyBcclxuICB0b3A6IDFyZW07XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGZpbGw6IHZhcigtLWZvcmVncm91bmQtY29sb3IpO1xyXG4gIC13ZWJraXQtZmlsdGVyOiBkcm9wLXNoYWRvdygwIDAgMC4yNXJlbSB2YXIoLS1zaGFkb3ctY29sb3IpKTsgXHJcbiAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDAgMC4yNXJlbSB2YXIoLS1zaGFkb3ctY29sb3IpKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\", \".piano[_ngcontent-%COMP%] {\\r\\n  box-shadow: 0 0 0.25rem var(--shadow-color);\\r\\n  border-radius: 0 0 0.25rem 0.25rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hvcmRzL3BpYW5vL3BpYW5vLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQ0FBMkM7RUFDM0Msa0NBQWtDO0FBQ3BDIiwic291cmNlc0NvbnRlbnQiOlsiLnBpYW5vIHtcclxuICBib3gtc2hhZG93OiAwIDAgMC4yNXJlbSB2YXIoLS1zaGFkb3ctY29sb3IpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDAgMCAwLjI1cmVtIDAuMjVyZW07XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelement","ɵɵproperty","key_r1","PianoComponent","constructor","notesService","keys","Array","ngOnInit","highlightedNotes","length","notes","getNotes","highlightedNoteIndex","highlightedNote","forEach","note","index","push","isHighlighted","isGroupedWithC","filter","shift","pop","_","ɵɵdirectiveInject","i1","NotesService","_2","selectors","inputs","decls","vars","consts","template","PianoComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtemplate","PianoComponent_app_key_1_Template","ɵɵelementEnd","ɵɵadvance"],"sources":["D:\\Software\\My Repositories\\macabresoft\\piano-chord-catalog\\src\\app\\chords\\piano\\piano.component.ts","D:\\Software\\My Repositories\\macabresoft\\piano-chord-catalog\\src\\app\\chords\\piano\\piano.component.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Note } from 'src/app/note.interface';\r\nimport { NotesService } from '../../notes.service';\r\nimport { PianoKey } from './key/piano-key.interface';\r\n\r\n@Component({\r\n  selector: 'app-piano',\r\n  templateUrl: './piano.component.html',\r\n  styleUrls: ['../../app.component.css', './piano.component.css']\r\n})\r\nexport class PianoComponent implements OnInit {\r\n\r\n  @Input() highlightedNotes?: Note[];\r\n  public keys: PianoKey[] = Array<PianoKey>();\r\n\r\n  constructor(private notesService: NotesService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.highlightedNotes && this.highlightedNotes.length > 0) {\r\n      let notes = this.notesService.getNotes();\r\n      let highlightedNoteIndex = 0;\r\n\r\n      while (highlightedNoteIndex < this.highlightedNotes.length) {\r\n        let highlightedNote = this.highlightedNotes[highlightedNoteIndex];\r\n\r\n        notes.forEach(note => {\r\n          if (highlightedNote && note.index === highlightedNote.index) {\r\n            this.keys.push({ note: note, isHighlighted: true});\r\n            highlightedNote = this.highlightedNotes[++highlightedNoteIndex];\r\n          }\r\n          else {\r\n            this.keys.push({ note: note, isHighlighted: false});\r\n          }\r\n        });\r\n      }\r\n\r\n      if (!this.highlightedNotes[0].isGroupedWithC) {\r\n        notes.filter(note => note.isGroupedWithC).forEach(() => {\r\n          this.keys.shift();\r\n        });\r\n      }\r\n\r\n      if (this.highlightedNotes[this.highlightedNotes.length - 1].isGroupedWithC) {\r\n        notes.filter(note => !note.isGroupedWithC).forEach(() => {\r\n          this.keys.pop();\r\n        });\r\n      }\r\n    }\r\n  }\r\n}","<div class=\"center piano\">\r\n  <app-key *ngFor=\"let key of keys\" [key]=\"key\"></app-key>\r\n</div>\r\n"],"mappings":";;;;;;ICCEA,EAAA,CAAAC,SAAA,iBAAwD;;;;IAAtBD,EAAA,CAAAE,UAAA,QAAAC,MAAA,CAAW;;;ADS/C,OAAM,MAAOC,cAAc;EAKzBC,YAAoBC,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IAFzB,KAAAC,IAAI,GAAeC,KAAK,EAAY;EAEO;EAElDC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACC,gBAAgB,IAAI,IAAI,CAACA,gBAAgB,CAACC,MAAM,GAAG,CAAC,EAAE;MAC7D,IAAIC,KAAK,GAAG,IAAI,CAACN,YAAY,CAACO,QAAQ,EAAE;MACxC,IAAIC,oBAAoB,GAAG,CAAC;MAE5B,OAAOA,oBAAoB,GAAG,IAAI,CAACJ,gBAAgB,CAACC,MAAM,EAAE;QAC1D,IAAII,eAAe,GAAG,IAAI,CAACL,gBAAgB,CAACI,oBAAoB,CAAC;QAEjEF,KAAK,CAACI,OAAO,CAACC,IAAI,IAAG;UACnB,IAAIF,eAAe,IAAIE,IAAI,CAACC,KAAK,KAAKH,eAAe,CAACG,KAAK,EAAE;YAC3D,IAAI,CAACX,IAAI,CAACY,IAAI,CAAC;cAAEF,IAAI,EAAEA,IAAI;cAAEG,aAAa,EAAE;YAAI,CAAC,CAAC;YAClDL,eAAe,GAAG,IAAI,CAACL,gBAAgB,CAAC,EAAEI,oBAAoB,CAAC;WAChE,MACI;YACH,IAAI,CAACP,IAAI,CAACY,IAAI,CAAC;cAAEF,IAAI,EAAEA,IAAI;cAAEG,aAAa,EAAE;YAAK,CAAC,CAAC;;QAEvD,CAAC,CAAC;;MAGJ,IAAI,CAAC,IAAI,CAACV,gBAAgB,CAAC,CAAC,CAAC,CAACW,cAAc,EAAE;QAC5CT,KAAK,CAACU,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACI,cAAc,CAAC,CAACL,OAAO,CAAC,MAAK;UACrD,IAAI,CAACT,IAAI,CAACgB,KAAK,EAAE;QACnB,CAAC,CAAC;;MAGJ,IAAI,IAAI,CAACb,gBAAgB,CAAC,IAAI,CAACA,gBAAgB,CAACC,MAAM,GAAG,CAAC,CAAC,CAACU,cAAc,EAAE;QAC1ET,KAAK,CAACU,MAAM,CAACL,IAAI,IAAI,CAACA,IAAI,CAACI,cAAc,CAAC,CAACL,OAAO,CAAC,MAAK;UACtD,IAAI,CAACT,IAAI,CAACiB,GAAG,EAAE;QACjB,CAAC,CAAC;;;EAGR;EAAC,QAAAC,CAAA,G;qBAtCUrB,cAAc,EAAAJ,EAAA,CAAA0B,iBAAA,CAAAC,EAAA,CAAAC,YAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAdzB,cAAc;IAAA0B,SAAA;IAAAC,MAAA;MAAArB,gBAAA;IAAA;IAAAsB,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCV3BrC,EAAA,CAAAuC,cAAA,aAA0B;QACxBvC,EAAA,CAAAwC,UAAA,IAAAC,iCAAA,qBAAwD;QAC1DzC,EAAA,CAAA0C,YAAA,EAAM;;;QADqB1C,EAAA,CAAA2C,SAAA,GAAO;QAAP3C,EAAA,CAAAE,UAAA,YAAAoC,GAAA,CAAA/B,IAAA,CAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}