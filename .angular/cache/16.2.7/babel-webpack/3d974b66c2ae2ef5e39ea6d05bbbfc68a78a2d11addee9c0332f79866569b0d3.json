{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../notes.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./key/key.component\";\nfunction PianoComponent_app_key_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-key\", 2);\n  }\n  if (rf & 2) {\n    const key_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"key\", key_r1);\n  }\n}\nexport let PianoComponent = /*#__PURE__*/(() => {\n  class PianoComponent {\n    constructor(notesService) {\n      this.notesService = notesService;\n      this.keys = Array();\n    }\n    ngOnInit() {\n      if (this.highlightedNotes && this.highlightedNotes.length > 0) {\n        let notes = this.notesService.getNotes();\n        let highlightedNoteIndex = 0;\n        while (highlightedNoteIndex < this.highlightedNotes.length) {\n          let highlightedNote = this.highlightedNotes[highlightedNoteIndex];\n          notes.forEach(note => {\n            if (highlightedNote && note.index === highlightedNote.index) {\n              this.keys.push({\n                note: note,\n                isHighlighted: true\n              });\n              highlightedNote = this.highlightedNotes[++highlightedNoteIndex];\n            } else {\n              this.keys.push({\n                note: note,\n                isHighlighted: false\n              });\n            }\n          });\n        }\n        if (!this.highlightedNotes[0].isGroupedWithC) {\n          notes.filter(note => note.isGroupedWithC).forEach(() => {\n            this.keys.shift();\n          });\n        }\n        if (this.highlightedNotes[this.highlightedNotes.length - 1].isGroupedWithC) {\n          notes.filter(note => !note.isGroupedWithC).forEach(() => {\n            this.keys.pop();\n          });\n        }\n      }\n    }\n    static #_ = this.ɵfac = function PianoComponent_Factory(t) {\n      return new (t || PianoComponent)(i0.ɵɵdirectiveInject(i1.NotesService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PianoComponent,\n      selectors: [[\"app-piano\"]],\n      inputs: {\n        highlightedNotes: \"highlightedNotes\"\n      },\n      decls: 2,\n      vars: 1,\n      consts: [[1, \"center\", \"piano\"], [3, \"key\", 4, \"ngFor\", \"ngForOf\"], [3, \"key\"]],\n      template: function PianoComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, PianoComponent_app_key_1_Template, 1, 1, \"app-key\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.keys);\n        }\n      },\n      dependencies: [i2.NgForOf, i3.KeyComponent],\n      styles: [\".center[_ngcontent-%COMP%]{display:flex;justify-content:center}.root[_ngcontent-%COMP%]{max-width:1024px;margin-left:auto;margin-right:auto}.github[_ngcontent-%COMP%]{margin-left:.5rem;color:var(--accent-light-color);text-shadow:0 0 .25rem var(--shadow-color);margin-bottom:.5rem}h1[_ngcontent-%COMP%]{color:var(--highlight-color);text-shadow:0 0 .25rem var(--shadow-color);margin-bottom:.25rem;font-size:2rem}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:.5rem;color:var(--accent-light-color)}footer[_ngcontent-%COMP%]{font-size:.75rem;height:-moz-fit-content;height:fit-content;margin-top:1.5rem;text-shadow:0 0 .25rem var(--shadow-color);display:flex;flex-direction:row;flex-wrap:wrap}.icon[_ngcontent-%COMP%]{display:inline-flex;align-self:center}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:2rem;width:2rem;margin-right:1rem;top:1rem;position:relative;fill:var(--foreground-color);filter:drop-shadow(0 0 .25rem var(--shadow-color))}\", \".piano[_ngcontent-%COMP%]{box-shadow:0 0 .25rem var(--shadow-color);border-radius:0 0 .25rem .25rem}\"]\n    });\n  }\n  return PianoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}